{"version":3,"sources":["components/common/FormControls/FromControls.module.scss","components/common/FormControls/FromControls.js","utils/validators.js","components/Dialogs/Dialogs.module.scss","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","FormControl","input","meta","props","hasError","touched","error","className","style","formControl","children","Textarea","restProps","Input","createField","placeholder","name","validate","component","maxLengthCreator","maxLength","value","length","required","DialogItem","path","id","dialog","to","activeClassName","active","wrImg","src","avatar","alt","Message","message","reduxForm","form","onSubmit","handleSubmit","Field","rows","type","Dialogs","dialogElements","dialogsPage","dialogs","map","messageElements","messages","elem","dialogsItems","dialogsList","messagesList","formObj","addMessage","newMessage","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","render","React","connect","compose"],"mappings":"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","file":"static/js/7.7ab25356.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FromControls_formControl__11Fsg\",\"error\":\"FromControls_error__1MjzQ\",\"formSummaryError\":\"FromControls_formSummaryError__3xpUU\"};","import React from 'react';\r\nimport style from './FromControls.module.scss';\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={`${style.formControl} ${hasError ? style.error : ''}`}>\r\n      {props.children}\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n  return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n  const {input, meta, ...restProps} = props;\r\n  return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validate, component, props = {}) => (\r\n  <div>\r\n    <Field component={component} validate={validate} name={name} placeholder={placeholder} {...props}/>\r\n  </div>\r\n)\r\n\r\nexport default FormControl;\r\n","const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length <= maxLength) return undefined;\r\n  return `Max length is ${maxLength} symbols`;\r\n}\r\n\r\nexport default required;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__32929\",\"dialogsItems\":\"Dialogs_dialogsItems__qb3lm\",\"dialogsList\":\"Dialogs_dialogsList__miXPR\",\"dialog\":\"Dialogs_dialog__24d8N\",\"wrImg\":\"Dialogs_wrImg__3KA-f\",\"active\":\"Dialogs_active__23wcn\",\"messages\":\"Dialogs_messages__1nytu\",\"message\":\"Dialogs_message__259ch\",\"form\":\"Dialogs_form__3V-UO\"};","import React from 'react';\r\nimport style from '../Dialogs.module.scss';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n  const path = '/dialogs/' + props.id;\r\n  return (\r\n    <li className={style.dialog}>\r\n        <NavLink to={path} activeClassName={style.active}>\r\n          <div className={style.wrImg}><img src={props.avatar} alt='avatar'/></div>\r\n          {props.name}\r\n        </NavLink>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default DialogItem;\r\n","import React from 'react';\r\nimport style from '../Dialogs.module.scss';\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <li className={style.message}>{props.message}</li>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport style from './Dialogs.module.scss';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls/FromControls\";\r\nimport required, {maxLengthCreator} from \"../../utils/validators\";\r\n\r\nconst maxLength = maxLengthCreator(10);\r\n\r\nconst AddMessageForm = (props) => {\r\n\r\n  return (\r\n      <form onSubmit={props.handleSubmit} className={style.form}>\r\n        <Field component={Textarea}\r\n               validate={[required, maxLength]}\r\n               name={'newMessage'}\r\n               rows='5' placeholder='Your message' />\r\n        <button type={'submit'}>Send</button>\r\n      </form>\r\n  );\r\n}\r\n\r\nexport default reduxForm({form: 'addMessage'})(AddMessageForm);\r\n","import React from 'react';\r\nimport style from './Dialogs.module.scss';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport Message from './Message/Message';\r\nimport AddMessageForm from \"./AddMessageForm\";\r\n\r\nconst Dialogs = (props) => {\r\n  const dialogElements = props.dialogsPage.dialogs.map(dialog => <DialogItem name={dialog.name}\r\n                                                                             avatar={dialog.avatar}\r\n                                                                             id={dialog.id}\r\n                                                                             key={dialog.id}/>);\r\n  const messageElements = props.dialogsPage.messages.map(elem => <Message message={elem.message} key={elem.id}/>);\r\n\r\n  const addMessage = (formObj) => {\r\n    props.addMessage(formObj.newMessage);\r\n  }\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogsItems}>\r\n        <ul className={style.dialogsList}>\r\n          {dialogElements}\r\n        </ul>\r\n      </div>\r\n      <div className={style.messages}>\r\n        <ul className={style.messagesList}>\r\n          {messageElements}\r\n        </ul>\r\n      </div>\r\n      <AddMessageForm onSubmit={addMessage} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    };\r\n}\r\n\r\nconst withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render = () => {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'/login'} />\r\n            }\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;\r\n","import {addMessage} from '../../redux/reducers/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage\r\n  };\r\n}\r\nexport default compose(\r\n  connect(mapStateToProps, {addMessage}),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}